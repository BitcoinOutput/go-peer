GC=go build
.PHONY: default build run clean 
default: clean build run 
build:
	$(GC) -o prog_hls1 hls/*.go
	$(GC) -o prog_hlm1 hlm/*.go
run:
	./prog_hls1 --input-key priv.key &
	sleep .5
	./prog_hlm1 --read-only "Pub(go-peer/rsa){3082020A0282020100C9C0A654B286D864001219576A708CD0E7E0402912CCC6FB43DB0D82B8EBD18742EA389BD075FD69A4DDA99C6F99D1F93C565EF6827163D8397D04EEC3EC4024C1C93ABFAED87109FC3BD0193C9BB32D81A98B77F3B7FFC3F6BF2AEA410A7EFD3FFDBD2D798F1BD912AA2DC208FE2535F01AE17DA41834C63310AA1E94605A13593D0F13159BB50539FE1FCA46C557457B8BF3C7EDF223541BE71708320D50F0AD2B5EF7903BD07C368FB819D1292CC18B6E2735AEC6697ED2A7142F71EACD3C8743A23B1708EFC22EA7EFF7CD9A06E22D6D9BF858CF71AD129427732C7154158FD7AC6DC3F87E40A19005306BC4294AED07DFE09C2C087552676F68B594382D99A3BED754A26881F426D2B9815B1EFA5A14094E5011DA8994DE6534985A4EA4C98DB031D6AD2A3BEF1D5C06E81AACF463895A600C38992C3E95B15DC38E3713A47ECA318A4DAE56B19979DC45C8A78D76D8F301DB0CAB9CB076096AE8A710D8174C62222700D7758C98A3E18B1E91B7E4790B9694DACF175FD9E738CE1C0F7EF0692F29F62DA8A8AE3D8F3BF043F1D6913144BB856DBD147BF8CA2FBCF863C76FADDBC89B2F1F0812EA90E8DDCF35BA64CD31A7B8B86A0B57EFFB0F04E70EDB5FFF4E8B36D3526865B9FE2368CD39ED96D468D47B7773D35C8C17532E036DB50D9FF50F944A7231A41704DAA1E5F85CBFA1A6961BB9BE2BFEFA6C4B24AFB9F50203010001}" &
clean:
	pkill prog_hls1 || true
	pkill prog_hlm1 || true
	rm -f prog_hls1 prog_hlm1 
